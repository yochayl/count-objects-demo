(this["webpackJsonpcount-objects-demo"]=this["webpackJsonpcount-objects-demo"]||[]).push([[0],{200:function(A,e,t){},243:function(A,e,t){"use strict";t.r(e);var n=t(0),a=t.n(n),r=t(16),c=t.n(r),i=(t(200),t(96)),g=t.n(i),s=t(138),o=t(23),C=t(7),I=t(139),E=t(31),u=t(293),B=t(53),Q=t(296),l=t(252),d=t(290),j=t(291),p=t(140),f=t(145),h=t(22),b=t(292),O=t(13),m=t(231).CountObjects,x="2021-01-01",S=function(A){var e=new Date(A);return new Date(e.setDate(e.getDate()+1)).toISOString().split("T")[0]},k=[{headerName:"Key",field:"key",width:300,headerClassName:"super-app-theme--header"},{headerName:"Value",field:"value",width:300,headerClassName:"super-app-theme--header"},{headerName:"Count",field:"count",width:300,headerClassName:"super-app-theme--header"}],w=function(A){var e=A.startTime,t=S(e);return encodeURI("https://earthquake.usgs.gov/fdsnws/event/1/query?format=geojson&starttime=".concat(e,"&endtime=").concat(t))},y=Object(E.a)((function(A){return{root:{flexGrow:1,"& .super-app-theme--header":{backgroundColor:"beige",fontSize:"medium"}},header:{padding:A.spacing(1),textAlign:"center",color:A.palette.text.secondary},chip:{background:"#eadce6"},chipContainer:{display:"flex",justifyContent:"center",flexWrap:"wrap",listStyle:"none",paddingRight:A.spacing(.5),paddingLeft:A.spacing(.5),paddingBottom:A.spacing(1),paddingTop:A.spacing(.5)},queryMore:{paddingBottom:A.spacing(1),paddingTop:A.spacing(.5)},circularProgress:{textAlign:"center"},datePickerContainer:{display:"flex",flexWrap:"wrap"},datePickerTextField:{marginLeft:A.spacing(1),marginRight:A.spacing(1),width:200}}})),R=function(A){return A.features.map((function(A){var e=A.properties,t=e.status,n=e.mag,a=e.place,r=e.type,c=e.alert,i=e.tsunami,g=e.time,s=e.sources,o=new Date(g).toISOString().split("T")[0];return{status:t.toLowerCase(),mag:Math.round(10*n)/10,place:a.split(", ").pop().toLowerCase(),type:r,tsunami:i,alert:c,date:o,sources:s.split(",").reduce((function(A,e){return e&&(A[e]=e),A}),{})}}))};function v(){var A=Object(n.useState)(new m([])),e=Object(C.a)(A,2),t=e[0],r=e[1],c=Object(n.useState)(0),i=Object(C.a)(c,2),E=i[0],v=i[1],N=Object(n.useState)(x),J=Object(C.a)(N,2),D=J[0],P=J[1],T=Object(n.useState)([]),U=Object(C.a)(T,2),F=U[0],M=U[1],K=Object(n.useState)([]),z=Object(C.a)(K,2),H=z[0],L=z[1],q=Object(n.useState)(!0),G=Object(C.a)(q,2),W=G[0],X=G[1],V=a.a.useState(new Date(x)),Z=Object(C.a)(V,2),Y=Z[0],_=Z[1],$=function(A){_(A),P((function(){return new Date(A).toISOString().split("T")[0]})),v(0),r(new m([])),X(!0)},AA=function(){X((function(){return!0})),P((function(){return S(D)}))};Object(n.useEffect)((function(){M((function(){return t.table().filter((function(A){return 0!==A.count})).map((function(A,e){return A.id=e,A}))})),L((function(){return function(A){var e,t=[],n=Object(I.a)(A);try{for(n.s();!(e=n.n()).done;){var a=e.value,r=JSON.stringify(a),c=a.pop(),i=a.join("."),g="".concat(i," - ").concat(c);t.push({key:r,label:g})}}catch(s){n.e(s)}finally{n.f()}return t}(JSON.parse(JSON.stringify(t.getFilters())))}))}),[t]),Object(n.useEffect)((function(){(function(){var A=Object(s.a)(g.a.mark((function A(){var e,n,a,c;return g.a.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return e=w({startTime:D}),A.next=3,fetch(e);case 3:return n=A.sent,A.next=6,n.json();case 6:a=A.sent,c=R(a),v((function(A){return A+c.length})),r(t.add(c).clone()),X(!1);case 11:case"end":return A.stop()}}),A)})));return function(){return A.apply(this,arguments)}})()()}),[D,Y]);var eA=y(),tA=function(){return Object(O.jsx)(u.a,{style:{height:400,width:900},children:Object(O.jsx)(p.a,{rows:F,columns:k,pageSize:50,onRowSelected:function(A){!function(A,e){var t=[].concat(Object(o.a)(A.split(".")),[e]),n=JSON.stringify(t);r((function(A){return A.getFilters().map((function(A){return JSON.stringify(A)})).some((function(A){return A===n}))?A:A.addFilter(t).clone()}))}(A.data.key,A.data.value)},HorizontalAlignment:"Stretch",HorizontalContentAlignment:"Stretch",ColumnWidth:"*"})})},nA=function(){return Object(O.jsx)(u.a,{className:eA.queryMore,children:Object(O.jsx)(B.a,{size:"small",variant:"contained",color:"primary",onClick:AA,children:"Query More"})})},aA=function(){return H.map((function(A){return Object(O.jsx)(u.a,{component:"li",className:eA.chipContainer,children:Object(O.jsx)(Q.a,{label:A.label,onDelete:(e=A,function(){r((function(A){return A.removeFilter(JSON.parse(e.key)).clone()}))}),className:eA.chip})},A.label);var e}))},rA=function(){return Object(O.jsx)(h.a,{utils:f.a,children:Object(O.jsx)(b.a,{margin:"normal",id:"date-picker-dialog",label:"Start Date",format:"dd/MM/yyyy",value:Y,onChange:$,KeyboardButtonProps:{"aria-label":"change date"}})})},cA=function(){return W?null:Object(O.jsxs)(u.a,{children:[Object(O.jsx)(u.a,{component:"span",children:"Total Count: "}),Object(O.jsxs)(u.a,{component:"span",children:[" ",E]})]})},iA=function(){return Object(O.jsxs)(u.a,{children:[Object(O.jsx)(u.a,{component:"label",children:"Data Source: "}),Object(O.jsx)(u.a,{component:"a",href:"https://earthquake.usgs.gov/fdsnws/event/1/",target:"_blank",rel:"noreferrer",children:"Earthquake Hazards"})]})},gA=function(){return Object(O.jsxs)(u.a,{children:[Object(O.jsx)(u.a,{component:"h1",className:eA.header,children:"Count Objects Demo"}),Object(O.jsx)(u.a,{component:"h5",className:eA.header,children:Object(O.jsx)("a",{href:"https://www.npmjs.com/package/count-objects",target:"_blank",rel:"noreferrer",children:Object(O.jsx)(u.a,{component:"img",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAyAAAAE3CAMAAABl4tVQAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAByUExURUxpcfvz89JRT+mtrdRZWOKNjdltbPPOzss4NvDKyv76+vfj4/79/d2Afso4N9+Hh89JSNdkZNJRUNNUU80+Pf/////+/s5FRf////fm5P/9/f7+/sw7Ott2dtFNTPXZ2c1CQc5FRMs4N/79/cs4N////08tFWgAAAAkdFJOUwDU58Hgx9TBksHgx+fMx8jt2Obj9/fw8PvI6fT7z+nD9PHn5rhAdUwAAATLSURBVHja7dRJTsNAEIZRB0gch8GZmWdy/yuyyQIkkPIvGqXN+w5Q6irnpfmQ9GuNE0iASIBIgEiASIBIgEiASIBIgEgCRAJEAkQCRAJEAkQCRAJEAkQCRBIgEiASIBIgEiASIBIgEiASIJIAkQCRAJEAkQCRAJEAkQCRAJEAkQSIBIgEiASIVBWQvq2tVbDdorrtHoPtXlvt64sB6Xa1NQm2G1e33Wmw3clO+zpAAAEEEEAAAQQQQAABBBBAAAEEEEAAAQQQQAABBBBAAAEEEEAAAQQQQAABBBBAAAEEEEAAAQQQQAABBBBAAAEEEEAAAQQQQAABBBBAAAEEEEAAAQQQQAABBBBAAAEEEEAAAQQQQAABBBBAAAEEEEDAAAQQQAABBBBAAAEEEEAAAQQQQAABBBBAAAEEEEAAAQQQQAABBBBAAAEEEEAAAQQQQAAB5OfuZof3Xh2QbbDdrDogm2S7TTD4Phl8M2wg4+ARk+qARB+kOiCjZLtRMPg8GXwBCCCAAAIIIIAAAggggAACCCCAAAIIIIAAAggggAACCCCAAAIIIIAAAggggAACCCCAAAIIIIAAAggggAACCCCAAAIIIIAAAggggAACCCCAAAIIIIAAAggggAACCCCAAAIIIIAAAggggAACCCCAAAIIIIAAAggggAACCCCAAAIIIIAAAggggAACCCCAAAIIIIAAAggggAACCCCAAAIIIIAAAggggAACCCCAAAIIIIAAAggggAACCCCAAAIIIIAAAggggAACCCCAAAIIIIAAAggggAACCCCAAAIIIIAAAggggAACCCCAAAIIIIAAAggggAACCCCAAAIIIIAAAggggAACCCCAAAIIIIAAAggggAACCCCAAAIIIIAAAggggAACCCCAAAIIIIAAAggggAACCCCAAAIIIIAAAggggAACCCCAAAIIIIAAAggggAACCCCAAAIIIIAMEsjtZRAggPw3IMUCBBBAAAEEEEAAAQQQQAABBBBAAAEEEEAAAQQQQAABBBBAAAEEEEAAAQQQQAABBBBAAAEEEEAAAQQQQAABBBBAAAEEEEAAAQQQQAABBBBAAAEEEEAAAQQQQAABBBBAAAEEEEAAAQQQQAABBBBAAAEEEEAAAQQQQAABBBBAAAEEEEAAAQQQQAABBBBAAAEEEEAAAQQQQAABBBBAAAEEEEAAAQQQQAABBBBAvjc/K9RL8Ih1Mnh9DECeS53tOtjuodQjlskvaBkMfkoGr4LB82JAhl0xIJ3b1hsggAgQQAQIIAIEEAECiAABRIAAAggggAACCCCAAAIIIAIEEAECiAABRIAAIkAAESCACBBAAAEEEEAAAQQQQASIAAFEgAAiQAARIIAIEEAECCBuCwgggAACCCCAAAKIAAFEgAAiQAARIIAIEEAECCACBBBAAAEEEEAAAQQQASJAABEggAgQQPRHQKaD7i04xaItVJ98kKmOqmbYXdX3jyUBAogAAUSAACJAABEggAgQQCRAJEAkQCRAABEggAgQQAQIIAIEEAECiAABRAJEAkQCRAIEEAECiAABRIAAIkAAESCASIBIgEiASIAAIkAAESCACBBABAggAgQQAQKIBIgEiASIBAggAgQQAQKIAAFEgACir30CA9k/RXWlKAAAAAAASUVORK5CYII=",alt:"NPM",width:"8%",height:"8%"})})})]})},sA=function(){return Object(O.jsx)(u.a,{className:eA.circularProgress,children:Object(O.jsx)(l.a,{})})};return Object(O.jsxs)(d.a,{maxWidth:"md",className:eA.root,children:[Object(O.jsx)(gA,{}),Object(O.jsx)(rA,{}),W?Object(O.jsx)(sA,{}):Object(O.jsxs)(u.a,{children:[Object(O.jsxs)(j.a,{container:!0,children:[Object(O.jsx)(j.a,{item:!0,xs:2,children:Object(O.jsx)(nA,{})}),Object(O.jsx)(j.a,{item:!0,xs:10,children:Object(O.jsx)(j.a,{container:!0,children:Object(O.jsx)(aA,{})})})]}),Object(O.jsx)(cA,{}),Object(O.jsx)(tA,{}),Object(O.jsx)(iA,{})]})]})}var N=function(){return Object(O.jsx)(v,{})},J=function(A){A&&A instanceof Function&&t.e(3).then(t.bind(null,298)).then((function(e){var t=e.getCLS,n=e.getFID,a=e.getFCP,r=e.getLCP,c=e.getTTFB;t(A),n(A),a(A),r(A),c(A)}))};c.a.render(Object(O.jsx)(a.a.StrictMode,{children:Object(O.jsx)(N,{})}),document.getElementById("root")),J()}},[[243,1,2]]]);
//# sourceMappingURL=main.f01f6f04.chunk.js.map